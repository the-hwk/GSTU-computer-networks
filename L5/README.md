## Лабораторная работа №5

**Стек протоколов *TCP/IP*. Передача данных по сети средствами стека протоколов *TCP/IP***

**Цель работы:** изучить стек протоколов *TCP/IP*, принцип работы транспортных протоколов *TCP* и *UDP*. Реализовать простое клиент-серверное приложение с использованием *TCP* и *UDP* сокетов.

**Задание:** реализовать клиент-серверное приложение с использованием *TCP* или *UDP* сокетов (четные варианты *TCP*, нечетные *UDP*) на *Python*.

**Требования к сетевому приложению:**
- должно выполнять задачу согласно варианта
- должна быть валидация данных, передаваемых в запросе от клиента
- программа не должна "падать" при неожиданном закрытии сокета на стороне клиента
- сетевой порт выбрать из диапазона `1024-49151`
- (доп. сложность) должна быть поддержка обработки запросов от множества клиентов
	- с помощью асинхронных функций или потоков

**Требования к клиентскому приложению:**
- должно быть небольшое консольное меню
	- минимум 2 пункта: отправка запроса и выход
- программа не должна "падать" при неожиданном закрытии сокета на стороне сервера

**Общие требования:**
- для реализации приложения использовать встроенную в *Python* библиотеку `socket`
- для избежания "зависания" программы при прослушке сокета использовать метод `settimeout` объекта `socket`
- сервер и клиент должны "общаться" по определенному формату данных
	- формат данных запроса и ответа придумать самостоятельно
	- например, `code:3; data:"Some response text"`
- и серверное, и клиентское приложение должны состоять из 3-х слоев:
	- слой работы с сокетом
	- слой преобразования данных (из массива байт в конкретный тип и наоборот)
	- слой бизнес-логики

*Теорию по стеку протоколов TCP/IP можно изучить в книге Олифера "Компьютерные сети", глава 15 (изучить теорию про порты и сокеты)*

**Краткие теоретические сведения:**
Протоколы *TCP* (*Transmission Control Protocol*) и *UDP* (*User Datagram Protocol*) - это транспортные протоколы для передачи данных между компьютерами и другими устройствами. Они работают на транспортном уровне модели *OSI*, обеспечивая доставку данных от одного приложения к другому.

Протокол *TCP* обеспечивает надежную передачу данных: он устанавливает соединение, контролирует доставку пакетов, обеспечивает порядок следования и повторную отправку потерянных данных. 

Протокол *UDP* предоставляет более простой и быстрый способ передачи данных без установления соединения, контроля доставки или порядка. В основном он используется для приложений, где важна скорость, а не надежность, например, для потокового видео или онлайн-игр.

*TCP* и *UDP* являются базовыми протоколами для написания сетевых программ. В большинстве языков программирования существуют встроенные средства или библиотеки для работы с этими протоколами.

Поскольку множество программ на одном устройстве могут использовать сеть одновременно, необходимо различать для какого именно приложения предназначены полученные данные. Для идентификации конкретного приложения или службы на устройстве используется сетевой порт. *IP*-адрес указывает на устройство в сети, а порт - на конкретный процесс или службу на этом устройстве. Например, веб-сервер обычно использует порт 80 (*HTTP*) или 443 (*HTTPS*), а *DNS* - порт 53.

Единицей передачи данных в этих протоколах является байт. Протокол *TCP* работает с потоком байт - он воспринимает данные как непрерывный поток, который разбивается на сегменты. В свою очередь, *UDP* оперирует датаграммами, каждая из которых представляет собой независимый блок данных, размером в несколько сотен или тысяч байт, который передается целиком. Независимо от способа упаковки, базовой единицей обработки информации всё равно остается байт.
